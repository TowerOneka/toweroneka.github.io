(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{21:function(t,e,o){},22:function(t,e,o){},3:function(t,e,o){t.exports={filter:"Filter_filter__MVJot",active__count:"Filter_active__count__1-Zqs",filter__link:"Filter_filter__link__2MIVW",active:"Filter_active__2fpT6",items:"Filter_items__2EuqG",clear__completed:"Filter_clear__completed__2S7_9"}},30:function(t,e,o){"use strict";o.r(e);var c=o(0),n=o.n(c),i=o(8),l=o.n(i),a=(o(21),o(22),o(3)),d=o.n(a),r=o(1),s=function(t){var e=function(e){t.onChangeFilter(e.target.dataset.filter)};return Object(r.jsxs)("div",{className:d.a.filter,children:[Object(r.jsxs)("p",{id:d.a.active__count,children:[t.active," items left"]}),Object(r.jsx)("p",{className:"".concat(d.a.filter__link," ").concat("All"===t.filter?d.a.active:""),"data-filter":"All",onClick:e,children:"All"}),Object(r.jsx)("p",{className:"".concat(d.a.filter__link," ").concat("Active"===t.filter?d.a.active:""),"data-filter":"Active",onClick:e,children:"Active"}),Object(r.jsx)("p",{className:"".concat(d.a.filter__link," ").concat("Completed"===t.filter?d.a.active:""),"data-filter":"Completed",onClick:e,children:"Completed"}),Object(r.jsx)("p",{id:d.a.clear__completed,style:{opacity:t.clear},onClick:t.clearButton,children:"Clear completed"})]})},u=o(11),_=o(6),f=o.n(_),j=function(t){var e=Object(c.useState)(""),o=Object(u.a)(e,2),n=o[0],i=o[1];return Object(r.jsxs)("div",{className:f.a.form,children:[Object(r.jsx)("div",{className:f.a.toggleAllButton,children:Object(r.jsx)("input",{style:{color:t.toggleColor},type:"button",id:f.a.toggleAll,value:"\u276f",onClick:t.onToggleAll})}),Object(r.jsx)("form",{id:f.a.todo__form,onSubmit:function(e){e.preventDefault(),t.onSubmit(n),i("")},children:Object(r.jsx)("input",{type:"text",name:"todo__text",id:f.a.todo__text,placeholder:"What needs to be done?",value:n,onChange:function(t){return i(t.target.value)}})})]})},b=o(16),p=o(13),h=localStorage.getItem("todo")?JSON.parse(localStorage.getItem("todo")):{todolist:[],active_count:0,filter_count:"All",clear_completed_opacity:!0},O=Object(p.a)({name:"task",initialState:h,reducers:{ADD_TODO:function(t,e){var o;(e.payload.replace(/\s+/g," ").trim(),e.payload&&" "!==e.payload)&&(o=0===t.todolist.length?1:t.todolist[t.todolist.length-1].id+1,t.active_count+=1,t.todolist=[].concat(Object(b.a)(t.todolist),[{id:o,text:e.payload,checked:!1,inEdit:!1}]),localStorage.setItem("todo",JSON.stringify(t)))},CHECK:function(t,e){t.todolist.forEach((function(o){o.id===e.payload&&(o.checked=!o.checked,o.checked?t.active_count-=1:t.active_count+=1)})),localStorage.setItem("todo",JSON.stringify(t))},DELETE_TODO:function(t,e){t.todolist.forEach((function(o,c){o.id===e.payload&&(o.checked||(t.active_count-=1),t.todolist.splice(c,1))})),localStorage.setItem("todo",JSON.stringify(t))},CHANGE_FILTER:function(t,e){t.filter_count=e.payload,localStorage.setItem("todo",JSON.stringify(t))},CLEAR_COMPLETED:function(t){var e=function(){t.todolist.forEach((function(t){t.checked&&o()}))},o=function(){t.todolist.forEach((function(o,c){o.checked&&(t.todolist.splice(c,1),e())}))};e(),localStorage.setItem("todo",JSON.stringify(t))},TOGGLE_ALL:function(t){var e=0;t.todolist.forEach((function(t){t.checked||(e+=1)})),0===e?(t.active_count=t.todolist.length-e,t.todolist.forEach((function(t){t.checked=!t.checked}))):(t.active_count=0,t.todolist.forEach((function(t){t.checked||(t.checked=!t.checked)}))),localStorage.setItem("todo",JSON.stringify(t))},EDIT:function(t,e){t.todolist.forEach((function(t){t.id===e.payload&&(t.inEdit=!t.inEdit)})),localStorage.setItem("todo",JSON.stringify(t))},APPLY_EDIT:function(t,e){e.payload.text.replace(/\s+/g," ").trim(),t.todolist.forEach((function(t){t.id===e.payload.ind&&(e.payload.text?(t.text=e.payload.text,t.inEdit=!1):t.inEdit=!1)})),localStorage.setItem("todo",JSON.stringify(t))}}}),k=O.actions,g=k.ADD_TODO,m=k.CHECK,E=k.DELETE_TODO,x=k.CHANGE_FILTER,v=k.CLEAR_COMPLETED,C=k.TOGGLE_ALL,y=k.EDIT,A=k.APPLY_EDIT,S=O.reducer,I=o(4),T=o(9),D=function(t){return t.tasks.todolist},N=function(t){return t.tasks.filter_count},L=function(t){return t.tasks.active_count},F=Object(T.a)(D,(function(t){return t.filter((function(t){return!t.checked}))})),J=Object(T.a)(D,(function(t){return t.filter((function(t){return t.checked}))})),B=o(5),P=o.n(B),G=function(t){var e=Object(c.useState)(t.text),o=Object(u.a)(e,2),n=o[0],i=o[1];return Object(r.jsxs)("li",{id:t.id,className:P.a.items,children:[Object(r.jsx)("input",{type:"checkbox",className:P.a.checkbox,onChange:function(){t.onCheckAction(t.id,t.checked)},checked:t.checked?"checked":""}),t.inEdit?Object(r.jsx)("input",{className:P.a.edit,autoFocus:!0,onChange:function(t){return i(t.target.value)},onBlur:function(){t.onApply(t.id,n)},onKeyUp:function(e){"Enter"===e.key?t.onApply(t.id,n):"Escape"===e.key&&(t.onEdit(t.id),i(t.text))},value:n}):Object(r.jsx)("label",{className:P.a.label,onDoubleClick:function(){t.onEdit(t.id)},children:t.text}),Object(r.jsx)("button",{id:P.a.todo__remove,onClick:function(){t.onDelete(t.id,t.checked)},children:"X"})]})},M=n.a.memo(G),R=function(t){return Object(r.jsx)("ul",{id:P.a.todo__list,children:t.todos.map((function(e){return Object(r.jsx)(M,{id:e.id,text:e.text,checked:e.checked,inEdit:e.inEdit,onDelete:t.onDelete,onCheckAction:t.onCheckAction,onApply:t.onApplyEdit,onEdit:t.onEdit},e.id)}))})},w=function(){var t=Object(I.b)(),e=Object(I.c)(D),o=Object(I.c)(F),n=Object(I.c)(J),i=Object(I.c)(N),l=Object(I.c)(L),a={All:e,Active:o,Completed:n},d=Object(c.useCallback)((function(e){t(m(e))}),[t]),u=Object(c.useCallback)((function(e){t(E(e))}),[t]),_=Object(c.useCallback)((function(e){t(x(e))}),[t]),f=Object(c.useCallback)((function(e){t(v(e))}),[t]),b=Object(c.useCallback)((function(e){t(C(e))}),[t]),p=Object(c.useCallback)((function(e){t(y(e))}),[t]),h=Object(c.useCallback)((function(e,o){t(A({ind:e,text:o}))}),[t]),O=Object(c.useCallback)((function(e){console.log("callback done"),t(g(e))}),[t]);return console.log(i),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(j,{onSubmit:O,onToggleAll:b,toggleColor:0===l&e.length>0?"#26de81":"#778ca3"}),Object(r.jsx)(R,{todos:a[i],onCheckAction:d,onDelete:u,onEdit:p,onApplyEdit:h}),Object(r.jsx)(s,{active:l,filter:i,onChangeFilter:_,clear:e.length!==l?1:0,clearButton:f})]})},H=function(){return Object(r.jsx)("div",{className:"Wrapper",children:Object(r.jsx)(w,{})})},K=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,31)).then((function(e){var o=e.getCLS,c=e.getFID,n=e.getFCP,i=e.getLCP,l=e.getTTFB;o(t),c(t),n(t),i(t),l(t)}))},V=o(2),W=Object(V.b)({tasks:S}),q=Object(V.d)(W);window.store=q;var Y=q;l.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(I.a,{store:Y,children:Object(r.jsx)(H,{})})}),document.getElementById("root")),K()},5:function(t,e,o){t.exports={todo__list:"Tasks_todo__list__2NEui",edit:"Tasks_edit__2mDhk",todo__remove:"Tasks_todo__remove__2vSem"}},6:function(t,e,o){t.exports={form:"Input_form__1J0kp",todo__form:"Input_todo__form__1Rk43",toggleAllButton:"Input_toggleAllButton__3JToJ",toggleAll:"Input_toggleAll__8ruas",todo__text:"Input_todo__text__3yApV",edit:"Input_edit__4B9un"}}},[[30,1,2]]]);
//# sourceMappingURL=main.3410e297.chunk.js.map