(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{21:function(t,e,o){},22:function(t,e,o){},3:function(t,e,o){t.exports={filter:"Filter_filter__DkSXW",active__count:"Filter_active__count__B2K_b",filter__link:"Filter_filter__link__-1fWn",active:"Filter_active__2MsDC",items:"Filter_items__35w_K",clear__completed:"Filter_clear__completed__1vx7O"}},30:function(t,e,o){"use strict";o.r(e);var c=o(0),n=o.n(c),i=o(8),l=o.n(i),a=(o(21),o(22),o(3)),d=o.n(a),r=o(1),s=function(t){var e=function(e){t.onChangeFilter(Number(e.target.dataset.filter))};return Object(r.jsxs)("div",{className:d.a.filter,children:[Object(r.jsxs)("p",{id:d.a.active__count,children:[t.active," items left"]}),Object(r.jsx)("p",{className:"".concat(d.a.filter__link," ").concat(1===t.filter?d.a.active:""),"data-filter":"1",onClick:e,children:"All"}),Object(r.jsx)("p",{className:"".concat(d.a.filter__link," ").concat(2===t.filter?d.a.active:""),"data-filter":"2",onClick:e,children:"Active"}),Object(r.jsx)("p",{className:"".concat(d.a.filter__link," ").concat(3===t.filter?d.a.active:""),"data-filter":"3",onClick:e,children:"Completed"}),Object(r.jsx)("p",{id:d.a.clear__completed,style:{opacity:t.clear},onClick:t.clearButton,children:"Clear completed"})]})},u=o(11),_=o(6),f=o.n(_),j=function(t){var e=Object(c.useState)(""),o=Object(u.a)(e,2),n=o[0],i=o[1];return Object(r.jsxs)("div",{className:f.a.form,children:[Object(r.jsx)("div",{className:f.a.toggleAllButton,children:Object(r.jsx)("input",{style:{color:t.toggleColor},type:"button",id:f.a.toggleAll,value:"\u276f",onClick:t.onToggleAll})}),Object(r.jsx)("form",{id:f.a.todo__form,onSubmit:function(e){e.preventDefault(),t.onSubmit(n),i("")},children:Object(r.jsx)("input",{type:"text",name:"todo__text",id:f.a.todo__text,placeholder:"What needs to be done?",value:n,onChange:function(t){return i(t.target.value)}})})]})},b=o(5),O=o.n(b),h=function(t){var e=Object(c.useState)(t.text),o=Object(u.a)(e,2),n=o[0],i=o[1];return Object(r.jsxs)("li",{id:t.id,className:O.a.items,children:[Object(r.jsx)("input",{type:"checkbox",className:O.a.checkbox,onChange:function(){t.onCheckAction(t.id,t.checked)},checked:t.checked?"checked":""}),t.inEdit?Object(r.jsx)("input",{className:O.a.edit,autoFocus:!0,onChange:function(t){return i(t.target.value)},onBlur:function(){t.onApply(t.id,n)},onKeyUp:function(e){"Enter"===e.key?t.onApply(t.id,n):"Escape"===e.key&&(t.onEdit(t.id),i(t.text))},value:n}):Object(r.jsx)("label",{className:O.a.label,onDoubleClick:function(){t.onEdit(t.id)},children:t.text}),Object(r.jsx)("button",{id:O.a.todo__remove,onClick:function(){t.onDelete(t.id,t.checked)},children:"X"})]})},p=n.a.memo(h),g=function(t){return Object(r.jsx)("ul",{id:O.a.todo__list,children:t.todos.map((function(e){return Object(r.jsx)(p,{id:e.id,text:e.text,checked:e.checked,inEdit:e.inEdit,onDelete:t.onDelete,onCheckAction:t.onCheckAction,onApply:t.onApplyEdit,onEdit:t.onEdit},e.id)}))})},k=o(16),m=o(13),E=localStorage.getItem("todo")?JSON.parse(localStorage.getItem("todo")):{todolist:[],active_count:0,filter_count:1,clear_completed_opacity:!0},x=Object(m.a)({name:"task",initialState:E,reducers:{ADD_TODO:function(t,e){var o;(e.payload.replace(/\s+/g," ").trim(),e.payload&&" "!==e.payload)&&(o=0===t.todolist.length?1:t.todolist[t.todolist.length-1].id+1,t.active_count+=1,t.todolist=[].concat(Object(k.a)(t.todolist),[{id:o,text:e.payload,checked:!1,inEdit:!1}]),localStorage.setItem("todo",JSON.stringify(t)))},CHECK:function(t,e){t.todolist.forEach((function(o){o.id===e.payload&&(o.checked=!o.checked,o.checked?t.active_count-=1:t.active_count+=1)})),localStorage.setItem("todo",JSON.stringify(t))},DELETE_TODO:function(t,e){t.todolist.forEach((function(o,c){o.id===e.payload&&(o.checked||(t.active_count-=1),t.todolist.splice(c,1))})),localStorage.setItem("todo",JSON.stringify(t))},CHANGE_FILTER:function(t,e){t.filter_count=e.payload,localStorage.setItem("todo",JSON.stringify(t))},CLEAR_COMPLETED:function(t){var e=function(){t.todolist.forEach((function(t){t.checked&&o()}))},o=function(){t.todolist.forEach((function(o,c){o.checked&&(t.todolist.splice(c,1),e())}))};e(),localStorage.setItem("todo",JSON.stringify(t))},TOGGLE_ALL:function(t){var e=0;t.todolist.forEach((function(t){t.checked||(e+=1)})),0===e?(t.active_count=t.todolist.length-e,t.todolist.forEach((function(t){t.checked=!t.checked}))):(t.active_count=0,t.todolist.forEach((function(t){t.checked||(t.checked=!t.checked)}))),localStorage.setItem("todo",JSON.stringify(t))},EDIT:function(t,e){t.todolist.forEach((function(t){t.id===e.payload&&(t.inEdit=!t.inEdit)})),localStorage.setItem("todo",JSON.stringify(t))},APPLY_EDIT:function(t,e){e.payload.text.replace(/\s+/g," ").trim(),t.todolist.forEach((function(t){t.id===e.payload.ind&&(e.payload.text?(t.text=e.payload.text,t.inEdit=!1):t.inEdit=!1)})),localStorage.setItem("todo",JSON.stringify(t))}}}),v=x.actions,C=v.ADD_TODO,y=v.CHECK,A=v.DELETE_TODO,S=v.CHANGE_FILTER,D=v.CLEAR_COMPLETED,I=v.TOGGLE_ALL,N=v.EDIT,T=v.APPLY_EDIT,L=x.reducer,F=o(4),J=o(9),B=function(t){return t.tasks.todolist},P=function(t){return t.tasks.filter_count},M=function(t){return t.tasks.active_count},w=Object(J.a)(B,(function(t){return t.filter((function(t){return!t.checked}))})),G=Object(J.a)(B,(function(t){return t.filter((function(t){return t.checked}))})),H=function(){var t,e=Object(F.b)(),o=Object(F.c)(B),n=Object(F.c)(w),i=Object(F.c)(G),l=Object(F.c)(P),a=Object(F.c)(M),d=Object(c.useCallback)((function(t){e(y(t))}),[e]),u=Object(c.useCallback)((function(t){e(A(t))}),[e]),_=Object(c.useCallback)((function(t){e(S(t))}),[e]),f=Object(c.useCallback)((function(t){e(D(t))}),[e]),b=Object(c.useCallback)((function(t){e(I(t))}),[e]),O=Object(c.useCallback)((function(t){e(N(t))}),[e]),h=Object(c.useCallback)((function(t,o){e(T({ind:t,text:o}))}),[e]),p=Object(c.useCallback)((function(t){console.log("callback done"),e(C(t))}),[e]);return t=2===l?n:3===l?i:o,Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(j,{onSubmit:p,onToggleAll:b,toggleColor:0===a&o.length>0?"#26de81":"#778ca3"}),Object(r.jsx)(g,{todos:t,onCheckAction:d,onDelete:u,onEdit:O,onApplyEdit:h}),Object(r.jsx)(s,{active:a,filter:l,onChangeFilter:_,clear:o.length!==a?1:0,clearButton:f})]})},K=function(){return Object(r.jsx)("div",{className:"Wrapper",children:Object(r.jsx)(H,{})})},R=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,31)).then((function(e){var o=e.getCLS,c=e.getFID,n=e.getFCP,i=e.getLCP,l=e.getTTFB;o(t),c(t),n(t),i(t),l(t)}))},W=o(2),Y=Object(W.b)({tasks:L}),X=Object(W.d)(Y);window.store=X;var z=X;l.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(F.a,{store:z,children:Object(r.jsx)(K,{})})}),document.getElementById("root")),R()},5:function(t,e,o){t.exports={todo__list:"Tasks_todo__list__3t2ag",edit:"Tasks_edit__1KhYE",todo__remove:"Tasks_todo__remove__-yMMs"}},6:function(t,e,o){t.exports={form:"Input_form__H-EL0",todo__form:"Input_todo__form__3-HCO",toggleAllButton:"Input_toggleAllButton__IPecA",toggleAll:"Input_toggleAll__1D1cZ",todo__text:"Input_todo__text__1jw4z",edit:"Input_edit__k9iMc"}}},[[30,1,2]]]);
//# sourceMappingURL=main.0c951570.chunk.js.map